# Visit https://github.com/lowlighter/metrics#-documentation for full reference
# name: Metrics
# on:
#   # Schedule updates (each hour)
#   schedule: [{cron: "0 * * * *"}]
#   # Lines below let you run workflow manually and on each commit
#   workflow_dispatch:
#   push: {branches: ["master", "main"]}
# jobs:
#   github-metrics:
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#     steps:
#       - uses: lowlighter/metrics@latest
#         with:
#           # Your GitHub token
#           # The following scopes are required:
#           #  - public_access (default scope)
#           # The following additional scopes may be required:
#           #  - read:org      (for organization related metrics)
#           #  - read:user     (for user related data)
#           #  - read:packages (for some packages related data)
#           #  - repo          (optional, if you want to include private repositories)
#           token: ${{ secrets.METRICS_TOKEN }}

#           # Options
#           user: kairui1108
#           template: classic
#           base: header, activity, community, repositories, metadata
#           config_timezone: Asia/Shanghai
#           plugin_activity: yes
#           plugin_activity_days: 14
#           plugin_activity_filter: all
#           plugin_activity_limit: 5
#           plugin_activity_load: 300
#           plugin_activity_visibility: all
#           plugin_calendar: yes
#           plugin_calendar_limit: 2
#           plugin_isocalendar: yes
#           plugin_isocalendar_duration: half-year
#           plugin_languages: yes
#           plugin_languages_ignored: html, css, tex, less, js, makefile, qmake, lex, cmake, gnuplot, scala, ejs
#           plugin_languages_details: lines, bytes-size, percentage
#           plugin_languages_sections: most-used, recently-used
#           plugin_languages_limit: 5
#           plugin_languages_indepth: yes
#           plugin_stars: yes
#           plugin_stars_limit: 4
# Licensed under The Unlicense
# Feel free to reuse, edit and redistribute this workflow as you wish, no credits needed
# See https://github.com/lowlighter/metrics for documentation about how to use metrics action

name: Metrics
on:
  # üåè Think about the planet! No need to update stats too frequently
  schedule: [{cron: "0 16 * * *"}]
  # üí° The following line lets you run workflow manually from the action tab!
  workflow_dispatch:
jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:

      - name: ü¶ë 
        if: ${{ success() || failure() }}
        uses: lowlighter/metrics@latest
        with:
          filename: general.svg
          token: ${{ secrets.METRICS_TOKEN }}
          base: header
          base_indepth: yes
          config_order: base.header, isocalendar, languages, notable, discussions, topics
          plugin_isocalendar: yes
          plugin_languages: yes
          plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake, lex, cmake, shell, gnuplot, vue, scala, c, c++, ejs
          plugin_languages_details: lines, bytes-size, percentage
          plugin_languages_sections: most-used, recently-used
          plugin_languages_indepth: yes
          plugin_languages_limit: 2
          plugin_topics: yes
          plugin_topics_limit: 0
          plugin_topics_mode: icons
          plugin_notable: yes
          plugin_discussions: yes
